!function(){"use strict";const e=document.querySelector(".js-light-theme-radio-button"),t=document.querySelector(".js-dark-theme-radio-button"),o=document.documentElement,s=document.querySelector(".js-search-form"),r=document.querySelector(".js-search-input"),n=document.querySelector(".js-alert-message"),a=()=>{t.setAttribute("checked",""),e.removeAttribute("checked")},c=()=>{e.setAttribute("checked",""),t.removeAttribute("checked")},l=()=>{matchMedia("(prefers-color-scheme: dark)").matches?(o.classList.toggle("is-light"),o.classList.contains("is-light")?(c(),localStorage.setItem("color-mode","is-light")):(a(),i())):(o.classList.toggle("is-dark"),o.classList.contains("is-dark")?(a(),localStorage.setItem("color-mode","is-dark")):(c(),i()))},i=()=>{o.classList.remove("is-light","is-dark"),localStorage.clear()},u=(e="Something went wrong")=>{n.textContent=e},d=async e=>{try{const t=await fetch(`https://api.github.com/users/${e}`),o=200,s=404,r=403;if(t.status===o&&t.ok){return await t.json()}if(t.status!==s||t.ok){if(t.status===r&&!t.ok){const e=await(async()=>{try{const e=await fetch("https://api.ipify.org/");return await e.text()}catch(e){u(),console.error(e)}})();u(`API rate limit exceeded for ${e} (403 Forbidden)`)}}else u("No results")}catch(e){u(),console.error(e)}},m=e=>e||"Not Available",h=(e,t,o)=>{const s=document.createElement("a");return s.href=e,s.textContent=t,s.classList.add(o),s.rel="nofollow me",s},y=(e,t,o,s="is-not-available")=>{e.classList.add(s),t.textContent=o},f=(e,t,o,s="is-not-available")=>{var r;e.classList.remove(s),(r=t).querySelector("a")&&r.removeChild(r.firstElementChild),t.appendChild(o)},v=(e,t,o,s="is-not-available")=>{e.classList.remove(s),t.textContent=o},b=async e=>{try{const{avatar_url:r,name:n,login:a,html_url:c,created_at:l,bio:i,public_repos:u,followers:d,following:b,location:g,blog:S,twitter_username:w,company:p}=await e;document.title=`${a} | devfinder`,(e=>{document.querySelector(".js-notification").textContent=`results updated to ${e}'s GitHub profile`})(a),((e,t)=>{const o=document.querySelector(".js-avatar");o.src=e,o.alt=t})(r,a),((e,t)=>{const o=document.querySelector(".js-name");"Not Available"===(e=m(e))?y(o,o,e=`${t}'s GitHub Profile`,"sr-only"):v(o,o,e,"sr-only")})(n,a),((e,t)=>{const o=document.querySelector(".js-user-github-link");o.href=t,o.textContent=`@${e}`})(a,c),(e=>{const t=document.querySelector(".js-time"),o=new Date(e).toUTCString().match(/\d{2} [A-Z][a-z]{2} \d{4}/)[0];t.setAttribute("datetime",e),t.textContent=o})(l),(e=>{const t=document.querySelector(".js-bio");"Not Available"===(e=m(e))?y(t,t,"This profile has no bio"):v(t,t,e)})(i),s=u,document.querySelector(".js-repository").textContent=s,o=d,document.querySelector(".js-followers").textContent=o,t=b,document.querySelector(".js-following").textContent=t,(e=>{const t=document.querySelector(".js-location"),o=t.querySelector(".js-value");"Not Available"===(e=m(e))?y(t,o,e):v(t,o,e)})(g),(e=>{const t=document.querySelector(".js-website"),o=t.querySelector(".js-value");o.textContent="";const s=(e=m(e)).match(/\s/),r=e.match(/^https?:\/\//);if("Not Available"===e)y(t,o,e);else if(s)v(t,o,e);else if(r){const s=h(e,e,"result__link");f(t,o,s)}else{const s=h(`http://${e}`,e,"result__link");f(t,o,s)}})(S),(e=>{const t=document.querySelector(".js-twitter"),o=t.querySelector(".js-value");if(o.textContent="","Not Available"===(e=m(e)))y(t,o,e);else{const s=h(`https://twitter.com/${e}`,`@${e}`,"result__link");f(t,o,s)}})(w),(e=>{const t=document.querySelector(".js-office"),o=t.querySelector(".js-value");o.textContent="";const s=(e=m(e)).match(/@/);if("Not Available"===e)y(t,o,e);else if(s){e=e.substring(1);const s=h(`https://github.com/${e}`,`@${e}`,"result__link");f(t,o,s)}else v(t,o,e)})(p)}catch(e){console.error(e)}var t,o,s},g=e=>{if("string"==typeof e){const t=/^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$/i;return e.match(t)}return!1};e.addEventListener("change",l),t.addEventListener("change",l),document.addEventListener("DOMContentLoaded",(()=>{const e=matchMedia("(prefers-color-scheme: dark)").matches,t=o.classList[0];t?"is-dark"===t?a():c():e?a():c()})),document.addEventListener("DOMContentLoaded",(async()=>{try{let e=new URLSearchParams(document.location.search).get("user");if(e){e=e.trim();const t=g(e);if(r.value=e,t){const t=await d(e);b(t)}else u("Invalid username")}}catch(e){console.error(e)}})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{var t;t=e,i(),t?a():c()})),s.addEventListener("submit",(async e=>{try{e.preventDefault(),n.textContent="";const t=r.value.trim();if(g(t)){(e=>{const t=new URL(document.location);t.searchParams.set("user",e),window.history.pushState({},"",t)})(t);const e=await d(t);b(e)}else u("Invalid username")}catch(e){console.error(e)}}))}();